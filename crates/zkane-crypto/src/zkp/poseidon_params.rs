use ark_bls12_381::Fr;
use ark_crypto_primitives::sponge::poseidon::PoseidonConfig;
use ark_std::str::FromStr;
use ark_std::vec::Vec;

pub fn new() -> PoseidonConfig<Fr> {
    let (c_str, m_str) = constants();
    let mut c: Vec<Vec<Fr>> = Vec::new();
    for i in 0..c_str.len() {
        let mut c_inner: Vec<Fr> = Vec::new();
        for j in 0..c_str[i].len() {
            let b: Fr = Fr::from_str(c_str[i][j]).unwrap();
            c_inner.push(b);
        }
        c.push(c_inner);
    }
    let mut m: Vec<Vec<Fr>> = Vec::new();
    for i in 0..m_str.len() {
        let mut mi: Vec<Fr> = Vec::new();
        for j in 0..m_str[i].len() {
            let b: Fr = Fr::from_str(m_str[i][j]).unwrap();
            mi.push(b);
        }
        m.push(mi);
    }

    PoseidonConfig::new(8, 56, 5, m, c, 2, 1)
}

pub fn constants() -> (Vec<Vec<&'static str>>, Vec<Vec<&'static str>>) {
    let c_str: Vec<Vec<&str>> = vec![
        vec![
            "4417881134626180770308697923359573201005643519861877412381846989312604493735",
            "5433650512959517612316327474713065966758808864213826738576266661723522780033",
        ],
        vec![
            "13641176377184356099764086973022553863760045607496549923679278773208775739952",
            "17949713444224994136330421782109149544629237834775211751417461773584374506783",
        ],
        vec![
            "13765628375339178273710281891027109699578766420463125835325926111705201856003",
            "19179513468172002314585757290678967643352171735526887944518845346318719730387",
        ],
    ];

    let m_str: Vec<Vec<&str>> = vec![
        vec![
            "1038180418056776651442944028459510265058633383281360520702142043667403503844",
            "19104250152149288692194160087229108962380481983770051876357439473931889382526",
        ],
        vec![
            "7003760916474780870091321276888809099928758016210575511830123521067523691017",
            "10460150809039904156668983747345347198316841366879181914914418086579576664491",
        ],
        vec![
            "15677112907432790716289265075133862681087874169637399306212310599581157175963",
            "15326287388823547786897864243344800490244989953594543352512215080754525987008",
        ],
    ];

    (c_str, m_str)
}